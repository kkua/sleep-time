var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function c(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function u(t,n){t.appendChild(n)}function r(t,n,e){t.insertBefore(n,e||null)}function a(t){t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function f(){return l(" ")}function d(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function p(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function m(t){return""===t?null:+t}function h(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function $(t,n){t.value=null==n?"":n}function g(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}let b;function x(t){b=t}const y=[],_=[],v=[],W=[],w=Promise.resolve();let k=!1;function N(t){v.push(t)}function I(t){W.push(t)}let D=!1;const E=new Set;function O(){if(!D){D=!0;do{for(let t=0;t<y.length;t+=1){const n=y[t];x(n),C(n.$$)}for(x(null),y.length=0;_.length;)_.pop()();for(let t=0;t<v.length;t+=1){const n=v[t];E.has(n)||(E.add(n),n())}v.length=0}while(y.length);for(;W.length;)W.pop()();k=!1,D=!1,E.clear()}}function C(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(N)}}const A=new Set;function H(t,n){t&&t.i&&(A.delete(t),t.i(n))}function M(t,n,e,o){if(t&&t.o){if(A.has(t))return;A.add(t),undefined.c.push((()=>{A.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function S(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}function T(t){t&&t.c()}function L(t,e,i,u){const{fragment:r,on_mount:a,on_destroy:s,after_update:l}=t.$$;r&&r.m(e,i),u||N((()=>{const e=a.map(n).filter(c);s?s.push(...e):o(e),t.$$.on_mount=[]})),l.forEach(N)}function j(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function q(t,n){-1===t.$$.dirty[0]&&(y.push(t),k||(k=!0,w.then(O)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function P(n,c,i,u,r,s,l,f=[-1]){const d=b;x(n);const p=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:r,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(d?d.$$.context:[])),callbacks:e(),dirty:f,skip_bound:!1,root:c.target||d.$$.root};l&&l(p.root);let m=!1;if(p.ctx=i?i(n,c.props||{},((t,e,...o)=>{const c=o.length?o[0]:e;return p.ctx&&r(p.ctx[t],p.ctx[t]=c)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](c),m&&q(n,t)),e})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!u&&u(p.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);p.fragment&&p.fragment.l(t),t.forEach(a)}else p.fragment&&p.fragment.c();c.intro&&H(n.$$.fragment),L(n,c.target,c.anchor,c.customElement),O()}x(d)}class X{$destroy(){j(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Z(n){let e,c,i,b,x,y,_,v,W,w,k,N,I;return{c(){e=s("div"),c=s("button"),i=l("+"),b=f(),x=s("input"),y=f(),_=s("span"),v=l(n[3]),W=f(),w=s("button"),k=l("-"),g(c,"width",n[4]),p(c,"class","svelte-nr7lyb"),p(x,"type","number"),p(x,"min",n[1]),p(x,"max",n[2]),g(x,"width",n[4]),p(x,"class","input svelte-nr7lyb"),g(w,"width",n[4]),p(w,"class","svelte-nr7lyb"),g(e,"display","inline-block")},m(t,o){r(t,e,o),u(e,c),u(c,i),u(e,b),u(e,x),$(x,n[0]),u(e,y),u(e,_),u(_,v),u(e,W),u(e,w),u(w,k),N||(I=[d(c,"click",n[5]),d(x,"input",n[8]),d(x,"blur",n[7]),d(w,"click",n[6])],N=!0)},p(t,[n]){2&n&&p(x,"min",t[1]),4&n&&p(x,"max",t[2]),1&n&&m(x.value)!==t[0]&&$(x,t[0]),8&n&&h(v,t[3])},i:t,o:t,d(t){t&&a(e),N=!1,o(I)}}}function B(t,n,e){let{value:o=0}=n,{min:c}=n,{max:i}=n,{label:u}=n,r=`${Math.max(c.length,i.length)+1}em`;function a(){o>i?e(0,o=i):o<c&&e(0,o=c)}return t.$$set=t=>{"value"in t&&e(0,o=t.value),"min"in t&&e(1,c=t.min),"max"in t&&e(2,i=t.max),"label"in t&&e(3,u=t.label)},[o,c,i,u,r,function(){e(0,++o),a()},function(){e(0,--o),a()},a,function(){o=m(this.value),e(0,o)}]}class F extends X{constructor(t){super(),P(this,t,B,Z,i,{value:0,min:1,max:2,label:3})}}function R(t){let n,e,c,i,m,$,g,b,x,y,v,W,w,k,N,D,E,O,C,A,q,P,X,Z,B,R,U=t[0].shutdownTime+"";function Y(n){t[7](n)}let z={min:"0",max:"23",label:"时"};function G(n){t[8](n)}void 0!==t[1]&&(z.value=t[1]),D=new F({props:z}),_.push((()=>S(D,"value",Y)));let J={min:"0",max:"59",label:"分"};return void 0!==t[2]&&(J.value=t[2]),C=new F({props:J}),_.push((()=>S(C,"value",G))),{c(){n=s("main"),e=s("input"),c=s("label"),c.textContent="开机自启动",i=f(),m=s("div"),$=l("下次关机时间： "),g=l(U),b=f(),x=s("table"),y=s("tbody"),v=s("tr"),W=s("td"),W.textContent="设置关机时间:",w=f(),k=s("td"),N=s("div"),T(D.$$.fragment),O=f(),T(C.$$.fragment),q=f(),P=s("td"),X=s("button"),X.textContent="设定",p(e,"type","checkbox"),p(e,"id","autorun"),p(c,"for","autorun")},m(o,a){r(o,n,a),u(n,e),e.checked=t[3],u(n,c),u(n,i),u(n,m),u(m,$),u(m,g),u(n,b),u(n,x),u(x,y),u(y,v),u(v,W),u(v,w),u(v,k),u(k,N),L(D,N,null),u(N,O),L(C,N,null),u(v,q),u(v,P),u(P,X),Z=!0,B||(R=[d(e,"click",t[4]),d(e,"change",t[6]),d(X,"click",t[5])],B=!0)},p(t,[n]){8&n&&(e.checked=t[3]),(!Z||1&n)&&U!==(U=t[0].shutdownTime+"")&&h(g,U);const o={};!E&&2&n&&(E=!0,o.value=t[1],I((()=>E=!1))),D.$set(o);const c={};!A&&4&n&&(A=!0,c.value=t[2],I((()=>A=!1))),C.$set(c)},i(t){Z||(H(D.$$.fragment,t),H(C.$$.fragment,t),Z=!0)},o(t){M(D.$$.fragment,t),M(C.$$.fragment,t),Z=!1},d(t){t&&a(n),j(D),j(C),B=!1,o(R)}}}function U(t,n,e){let o=Window.this,c=o.xcall("get_settings"),i=0,u=0,r=c.autorun;return o.on("statechange",(function(){e(0,c=o.xcall("get_settings"))})),[c,i,u,r,function(){o.xcall("autorun_when_boot",r)||e(3,r=!r)},function(){o.xcall("set_shutdown",i,u)},function(){r=this.checked,e(3,r)},function(t){i=t,e(1,i)},function(t){u=t,e(2,u)}]}function Y(n){let e,c,i,l,m,h;return{c(){e=s("menu"),c=s("li"),c.textContent="设置",i=f(),l=s("li"),l.textContent="退出",p(e,"class","popup"),p(e,"id","tray")},m(t,o){r(t,e,o),u(e,c),u(e,i),u(e,l),m||(h=[d(c,"click",n[0]),d(l,"click",n[1])],m=!0)},p:t,i:t,o:t,d(t){t&&a(e),m=!1,o(h)}}}function z(t){let n=Window.this,e=!1;return document.on("closerequest",(function(t,o){e||(n.state=Window.WINDOW_HIDDEN,t.preventDefault())})),document.ready=function(){n.trayIcon({image:n.icon,text:n.caption}),n.on("trayiconclick",(function(t){let e=t.data.buttons;if(1==e)!function(){switch(n.state,n.state){case Window.WINDOW_MINIMIZED:case Window.WINDOW_HIDDEN:n.state=Window.WINDOW_SHOWN,n.focus=n.document;break;case Window.WINDOW_MAXIMIZED:case Window.WINDOW_SHOWN:case Window.WINDOW_FULL_SCREEN:n.state=Window.WINDOW_HIDDEN}}();else if(2==e){var[o,c]=n.box("position","client","screen",!0),i=document.$("menu#tray"),{screenX:u,screenY:r}=t.data;n.isTopmost=!0,i.popupAt(u-o,r-c,2),document.on("popupdismissing","menu#tray",(function(t,e){n.isTopmost=!1}))}}))},[function(){n.state=Window.WINDOW_SHOWN},function(){n.trayIcon("remove"),e=!0,n.close()}]}const G=new class extends X{constructor(t){super(),P(this,t,U,R,i,{})}}({target:document.body,props:{name:"world"}});return new class extends X{constructor(t){super(),P(this,t,z,Y,i,{})}}({target:document.head}),G}();
//# sourceMappingURL=app.js.map
